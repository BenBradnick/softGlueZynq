Cross compiling from linux to linux-arm:
---------------------------------------
Xilinx Vivado comes with a software-development kit, called SDK.
In that distribution is the directory EPICS needs to cross compile for Zynq.
To build base and synApps for the MicroZed, I modified two config files in base:

Here's the base/configure/os/CONFIG_SITE file I used:

	# CONFIG_SITE.linux-x86.linux-arm
	#
	# Site specific definitions for linux-x86 host - linux-arm target builds
	#-------------------------------------------------------
	
	# Tools install path
	GNU_DIR = /local/mooney/zynq/Xilinx/SDK/2015.4/gnu/arm/lin
	
	# GNU crosscompiler target name
	GNU_TARGET = arm-xilinx-linux-gnueabi

I added this line to base/configure/CONFIG_SITE:

	CROSS_COMPILER_TARGET_ARCHS=linux-arm

Then I set EPICS_HOST_ARCH to linux-x86_64, and built base and synApps.

==============================================================================
0.	Use petalinux-config to set the host name and MAC address

	sudo rootsh
	source /local/mooney/zynq/PetaLinux/petalinux-v2015.4-final/settings.sh
	# cd to existing, working petalinux project.  This project has been customized to mount /APSshare and
	# s100dserv, to load the libstd6++6 library, and to load a fixed ssh host key.
	cd /local/mooney/zynq/PetaLinux/mz_7010_2015_4

	petalinux-config
	# Got linux system config screen
	# Navigate to Subsystem AUTO Hardware Settings > Ethernet Settings > (xx:xx:xx:xx:xx:xx) Ethernet MAC address
	# set MAC address to 00:19:B3:02:13:D7
	# Navigate to Firmware Version Configuration > Host name
	# set host name to microzed-j
	# exit

	petalinux-build

	# as mooney on mooneylinux:
	# copy boot files to a directory the PC can access via a mapped network drive
	cd /home/oxygen/MOONEY/zynq/PetaLinux/myBuilds
	cp /local/mooney/zynq/PetaLinux/mz_7010_2015_4/images/linux/BOOT.BIN .
	cp /local/mooney/zynq/PetaLinux/mz_7010_2015_4/images/linux/image.ub .

	# on PC:
	# Put SD card into card writer (on PC).  Open SD card on PC and copy BOOT.BIN and image.ub, using PC's mapped network drive.
	# Put SD card in MicroZed.
	# Connect USB from PC to MicroZed, start Putty using serial (COM5 at 115200 baud).

1.	Login to the MicroZed as root.  
	cd /net/s100dserv/xorApps/zed/epics/ioc/ioczed/iocBoot/iocZed
	./run

	
------------------------------------------------------------------------------
New way:

		# set the MAC address by adding the following to the mountAPSshare
		# application:
		ifconfig eth0 down
		ifconfig eth0 hw ether 00:19:B3:02:13:D7
		ifconfig eth0 up
#mount -o port=2049,nolock -t nfs s100dserv.xray.aps.anl.gov:/APSshare /mnt/APSshare
#mount -o port=2049,nolock -t nfs s100dserv.xray.aps.anl.gov:/xorApps /mnt/xorApps

ifdown eth0
ifconfig eth0 hw ether 00:19:B3:02:13:D7
ifup eth0
